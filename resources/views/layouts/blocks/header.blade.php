<div class="container py-2">
    <div class="info-top-header">
        <div class="row">
            <div class="col-lg-10 col-sm-8">
                <div class="row">
                    <div class="col-lg-4 info-top-headr-adress">
                        <a href="https://maps.app.goo.gl/EaDN2FAnhnqqMTCW8" class="links-styl" target="__blank">
                            <i class="bi bi-house"></i>
                            Trieda KVP 4, 040 23 Košice
                        </a>
                    </div>
                    <div class="col-lg-4 info-top-header-email">
                        <a href="mailto:info@webkvalita.com" class="links-styl" target="__blank">
                            <i class="bi bi-envelope"></i>
                            info@webkvalita.com
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-lg-2 col-sm-4">
                <div class="social-links d-flex">
                    <div class="language-switcher me-3">
                        <a class="me-2" href="{{ route('change.language', ['locale' => 'sk']) }}">
                            <svg width="20px" height="20px" viewBox="0 -4 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip0_503_4396)">
                                <rect x="0.25" y="0.25" width="27.5" height="19.5" rx="1.75" fill="white" stroke="#F5F5F5" stroke-width="0.5"/>
                                <mask id="mask0_503_4396" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="28" height="20">
                                <rect x="0.25" y="0.25" width="27.5" height="19.5" rx="1.75" fill="white" stroke="white" stroke-width="0.5"/>
                                </mask>
                                <g mask="url(#mask0_503_4396)">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M0 13.3333H28V6.66667H0V13.3333Z" fill="#0C47B7"/>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M0 20H28V13.3333H0V20Z" fill="#E53B35"/>
                                <path d="M13.0503 3.33333H6.94971C5.87505 3.33333 4.99249 4.1826 4.95119 5.25647L4.69194 11.9969C4.66847 12.6073 4.92515 13.1948 5.38888 13.5923L8.26456 16.0572C9.2632 16.9132 10.7368 16.9132 11.7355 16.0572L14.6111 13.5923C15.0749 13.1948 15.3315 12.6073 15.3081 11.9969L15.0488 5.25647C15.0075 4.1826 14.125 3.33333 13.0503 3.33333Z" fill="#F73744" stroke="white" stroke-width="1.33333"/>
                                <mask id="mask1_503_4396" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="4" y="2" width="12" height="16">
                                <path d="M13.0503 3.33333H6.94971C5.87505 3.33333 4.99249 4.1826 4.95119 5.25647L4.69194 11.9969C4.66847 12.6073 4.92515 13.1948 5.38888 13.5923L8.26456 16.0572C9.2632 16.9132 10.7368 16.9132 11.7355 16.0572L14.6111 13.5923C15.0749 13.1948 15.3315 12.6073 15.3081 11.9969L15.0488 5.25647C15.0075 4.1826 14.125 3.33333 13.0503 3.33333Z" fill="white" stroke="white" stroke-width="1.33333"/>
                                </mask>
                                <g mask="url(#mask1_503_4396)">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M9.33356 11C9.33356 10.8159 9.18432 10.6666 9.00022 10.6666H7.66689C7.4828 10.6666 7.33356 10.5174 7.33356 10.3333V9.66665C7.33356 9.48255 7.4828 9.33331 7.66689 9.33331H9.00022C9.18432 9.33331 9.33356 9.18407 9.33356 8.99998V8.33331C9.33356 8.14922 9.18432 7.99998 9.00022 7.99998H8.33356C8.14946 7.99998 8.00022 7.85074 8.00022 7.66665V6.99998C8.00022 6.81589 8.14946 6.66665 8.33356 6.66665H9.00022C9.18432 6.66665 9.33356 6.51741 9.33356 6.33331V5.66665C9.33356 5.48255 9.4828 5.33331 9.66689 5.33331H10.3336C10.5177 5.33331 10.6669 5.48255 10.6669 5.66665V6.33331C10.6669 6.51741 10.8161 6.66665 11.0002 6.66665H11.6669C11.851 6.66665 12.0002 6.81588 12.0002 6.99998V7.66665C12.0002 7.85074 11.851 7.99998 11.6669 7.99998H11.0002C10.8161 7.99998 10.6669 8.14922 10.6669 8.33331V8.99998C10.6669 9.18407 10.8161 9.33331 11.0002 9.33331H12.3336C12.5177 9.33331 12.6669 9.48255 12.6669 9.66665V10.3333C12.6669 10.5174 12.5177 10.6666 12.3336 10.6666H11.0002C10.8161 10.6666 10.6669 10.8159 10.6669 11V13C10.6669 13.1841 10.5177 13.3333 10.3336 13.3333H9.66689C9.4828 13.3333 9.33356 13.1841 9.33356 13V11Z" fill="white"/>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M11.2034 13.4254C10.9887 12.9767 10.5305 12.6667 9.99984 12.6667C9.46917 12.6667 9.01091 12.9767 8.79629 13.4255C7.17536 13.6809 6 14.4385 6 15.3333C6 16.4379 7.79086 17.3333 10 17.3333C12.2091 17.3333 14 16.4379 14 15.3333C14 14.4384 12.8245 13.6808 11.2034 13.4254Z" fill="#1251A1"/>
                                </g>
                                </g>
                                </g>
                                <defs>
                                <clipPath id="clip0_503_4396">
                                <rect width="28" height="20" rx="2" fill="white"/>
                                </clipPath>
                                </defs>
                            </svg>
                        </a>
                        <a class="ms-2" href="{{ route('change.language', ['locale' => 'en']) }}">
                            <svg width="20px" height="20px" viewBox="0 -4 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip0_503_2952)">
                                <rect width="28" height="20" rx="2" fill="white"/>
                                <mask id="mask0_503_2952" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="28" height="20">
                                <rect width="28" height="20" rx="2" fill="white"/>
                                </mask>
                                <g mask="url(#mask0_503_2952)">
                                <rect width="28" height="20" fill="#0A17A7"/>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M-1.28244 -1.91644L10.6667 6.14335V-1.33333H17.3334V6.14335L29.2825 -1.91644L30.7737 0.294324L21.3263 6.66667H28V13.3333H21.3263L30.7737 19.7057L29.2825 21.9165L17.3334 13.8567V21.3333H10.6667V13.8567L-1.28244 21.9165L-2.77362 19.7057L6.67377 13.3333H2.95639e-05V6.66667H6.67377L-2.77362 0.294324L-1.28244 -1.91644Z" fill="white"/>
                                <path d="M18.668 6.33219L31.3333 -2" stroke="#DB1F35" stroke-width="0.666667" stroke-linecap="round"/>
                                <path d="M20.0128 13.6975L31.3666 21.3503" stroke="#DB1F35" stroke-width="0.666667" stroke-linecap="round"/>
                                <path d="M8.00555 6.31046L-3.83746 -1.67099" stroke="#DB1F35" stroke-width="0.666667" stroke-linecap="round"/>
                                <path d="M9.29006 13.6049L-3.83746 22.3105" stroke="#DB1F35" stroke-width="0.666667" stroke-linecap="round"/>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M0 12H12V20H16V12H28V8H16V0H12V8H0V12Z" fill="#E6273E"/>
                                </g>
                                </g>
                                <defs>
                                <clipPath id="clip0_503_2952">
                                <rect width="28" height="20" rx="2" fill="white"/>
                                </clipPath>
                                </defs>
                            </svg>
                        </a>
                    </div>
                    <div class="">
                        <a href="https://www.instagram.com/webkvalita/" class="links-styl me-2" target="__blank"><i class="bi bi-instagram"></i></a> /
                    </div>
                    <div >
                        <a href="" class="links-styl ms-2" target="__blank"><i class="bi bi-facebook"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="border-top-head"></div>
<div class="container py-3 info-mid-header">
    <div class="row align-items-center">
        <div class="col-lg-3">
            <a class="navbar-brand" href="{{ localized_route('home') }}">
                <img src="{{ asset('logo/logo.png') }}" style="width: 100%" alt="">
            </a>
        </div>
        <div class="col-lg-1"></div>
        <div class="col-lg-3">
            <div class="row align-items-center">
                <div class="col-lg-2">
                    <i class="bi bi-telephone-fill fs-5"></i>
                </div>
                <div class="col-lg-10 info-mid-header-call">
                    <div class="info-call">
                        {{__('header.CALL')}}
                    </div>
                    <div>
                        <a class="links-styl" href="tel:0911 992 754">0911 992 754</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3">
            <div class="row align-items-center">
                <div class="col-lg-2">
                    <i class="bi bi-clock-fill fs-5"></i>
                </div>
                <div class="col-lg-10 info-mid-header-open">
                    <div class="info-openning">
                        {{__('header.OPENING HOURS')}}
                    </div>
                    <div class="openning-hours">
                        {{__('header.Mon - Fri:')}} 09:00 - 12:00   13:00 - 18:00
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-2">
            <a href="{{ localized_route('contact.service') }}" class="btn btn-primary float-end">{{__('header.Order servis!')}}</a>
        </div>
    </div>
</div>
<div class="backgoud-wrap-header">
    <div class="container">
        <nav class="navbar navbar-expand-lg header-menu sticky-top p-0">
            {{-- <nav class="navbar s bg-body-tertiary">
                <div class="container-fluid">
                  <a class="navbar-brand" href="#">Sticky top</a>
                </div>
              </nav> --}}
            <div class="container-fluid">
                <a class="navbar-brand-small-creen" href="{{ localized_route('home',) }}">
                    <img class="image" src="{{ asset('logo/logo.png') }}" alt="">
                </a>
                <button class="navbar-toggler button-colapsed" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse justify-content-center" id="navbarSupportedContent">
                    <ul class="navbar-nav d-flex w-100" id="header_menu_main">
                        <li class="nav-item flex-grow-1 text-center active-header-link">
                            <a class="nav-link" href="{{ localized_route('home',) }}">{{__('header.Current actions')}}</a>
                            <span class="active-line"></span>
                        </li>
                        <li class="nav-item flex-grow-1 text-center active-header-link">
                            <a class="nav-link" href="{{ localized_route('firm',) }}">{{__('header.About company')}}</a>
                            <span class="active-line"></span>
                        </li>
                        {{-- <li class="nav-item dropdown flex-grow-1 text-center">
                            <a class="nav-link dropdown-toggle {{ url()->current() == localized_route('noteRepair') ? 'active' : '' }}"
                            href="{{ localized_route('noteRepair') }}" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                              {{ __('header.Laptop repair') }}
                            </a>
                            <span class="active-line"></span>
                            <ul class="dropdown-menu flex-grow-1 header-drop-menu-wrap" aria-labelledby="navbarDropdown">
                              <li class="header-drop-li-active"><a class="dropdown-item" href="{{ localized_route('noteRepair',) }}">{{ __('header.Laptop repair') }}</a></li>
                              <li class="header-drop-li-active"><a class="dropdown-item" href="#">Another action</a></li>
                            </ul>
                        </li> --}}
                        {{-- <li class="nav-item dropdown flex-grow-1 text-center">
                            <a class="nav-link dropdown-toggle {{ url()->current() == localized_route('noteRepair') ? 'active' : '' }}"
                               href="#" data-href="{{ localized_route('noteRepair') }}" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                              {{ __('header.Laptop repair') }}
                            </a>
                            <span class="active-line"></span>
                            <ul class="dropdown-menu flex-grow-1 header-drop-menu-wrap" aria-labelledby="navbarDropdown">
                              <li class="header-drop-li-active"><a class="dropdown-item" href="{{ localized_route('noteRepair') }}">{{ __('header.Laptop repair') }}</a></li>
                              <li class="header-drop-li-active"><a class="dropdown-item" href="#">Another action</a></li>
                              <li><hr class="dropdown-divider"></li>
                              <li><a class="dropdown-item" href="#">Something else here</a></li>
                            </ul>
                        </li> --}}
                        <li class="nav-item dropdown flex-grow-1 text-center">
                            <a class="nav-link dropdown-toggle {{ url()->current() == localized_route('noteRepair') ? 'active' : '' }}"
                               href="#" data-href="{{ localized_route('noteRepair') }}" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                              {{ __('header.Laptop repair') }}
                            </a>
                            <span class="active-line"></span>
                            <ul class="dropdown-menu flex-grow-1 header-drop-menu-wrap" aria-labelledby="navbarDropdown">
                              <li class="header-drop-li-active"><a class="dropdown-item" href="{{ localized_route('noteRepair') }}">{{ __('header.Laptop repair') }}</a></li>
                              <li class="header-drop-li-active"><a class="dropdown-item" href="#">Another action</a></li>
                              {{-- <li><hr class="dropdown-divider"></li>
                              <li><a class="dropdown-item" href="#">Something else here</a></li> --}}
                            </ul>
                        </li>
                        {{-- <li class="nav-item flex-grow-1 text-center active-header-link">
                            <a class="nav-link" href="#">{{__('header.Laptop repair')}}</a>
                        </li> --}}
                        <li class="nav-item flex-grow-1 text-center active-header-link">
                            <a class="nav-link" href="{{ localized_route('compRepair',) }}">{{__('header.Computer repair')}}</a>
                            <span class="active-line"></span>
                        </li>
                        <li class="nav-item flex-grow-1 text-center active-header-link">
                            <a class="nav-link" href="{{ localized_route('tricks',) }}">{{__('header.Tips and tricks')}}</a>
                            <span class="active-line"></span>
                        </li>
                        <li class="nav-item flex-grow-1 text-center active-header-link">
                            <a class="nav-link" href="{{ localized_route('work',) }}">{{__('header.Our work')}}</a>
                            <span class="active-line"></span>
                        </li>
                        <li class="nav-item flex-grow-1 text-center active-header-link">
                            <a class="nav-link" href="{{ localized_route('contact',) }}">{{__('header.Contact')}}</a>
                            <span class="active-line"></span>
                        </li>
                    </ul>
                </div>
            </div>
          </nav>
    </div>
</div>

  <script>
    // document.addEventListener('DOMContentLoaded', function() {
    //     var navbarDropdown = document.getElementById('navbarDropdown');

    //     function adjustLinkBehavior() {
    //         if (window.innerWidth >= 992) {
    //             navbarDropdown.setAttribute('href', navbarDropdown.getAttribute('data-href'));
    //             navbarDropdown.classList.remove('dropdown-toggle');
    //             navbarDropdown.removeAttribute('data-bs-toggle');
    //         } else {
    //             navbarDropdown.setAttribute('href', '#');
    //             navbarDropdown.classList.add('dropdown-toggle');
    //             navbarDropdown.setAttribute('data-bs-toggle', 'dropdown');
    //         }
    //     }

    //     adjustLinkBehavior();

    //     window.addEventListener('resize', function() {
    //         adjustLinkBehavior();
    //     });
    // });


    document.addEventListener('DOMContentLoaded', function() {
        var navbarDropdown = document.getElementById('navbarDropdown');

        function adjustLinkBehavior() {
            if (window.innerWidth >= 992) {
                navbarDropdown.setAttribute('href', navbarDropdown.getAttribute('data-href'));
                navbarDropdown.removeAttribute('data-bs-toggle');
            } else {
                navbarDropdown.setAttribute('href', '#');
                navbarDropdown.setAttribute('data-bs-toggle', 'dropdown');
            }
        }

        adjustLinkBehavior();

        window.addEventListener('resize', function() {
            adjustLinkBehavior();
        });

        navbarDropdown.addEventListener('click', function(event) {
            if (window.innerWidth >= 992) {
                window.location.href = navbarDropdown.getAttribute('data-href');
            }
        });
    });

    document.querySelectorAll('.locale-link').forEach(link => {
        link.addEventListener('click', function(event) {
            event.preventDefault(); // Предотвращаем стандартное поведение ссылки
            var locale = this.getAttribute('data-locale'); // Получаем локаль из атрибута ссылки
            document.getElementById('localeField').value = locale; // Устанавливаем локаль в скрытое поле
            link.closest('form').submit(); // Отправляем форму
        });
    });

    // document.querySelectorAll('#header_menu_main a[href="'+location.href+'"]').forEach(link => link.classList.add('active'));
    $('#header_menu_main a[href="' + location.href + '"]').each(function() {
    $(this).addClass('active'); // Добавление класса active
    // $(this).siblings('.active-line').show(); // Показ .active-line, используя jQuery
    $(this).next('.active-line').show();

    var currentUrl = window.location.href;
    $('.dropdown-menu .dropdown-item').each(function() {
        var itemUrl = $(this).attr('href');
        if(currentUrl.includes(itemUrl)) {
            $(this).closest('.nav-item').find('.active-line').css('display', 'block');
            // Добавляем класс active к dropdown-toggle, если это требуется
            $(this).closest('.nav-item').find('.dropdown-toggle').addClass('active');
        }
    });
});

</script>
